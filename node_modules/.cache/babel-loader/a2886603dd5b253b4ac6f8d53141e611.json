{"ast":null,"code":"import { SUBMITTED, LOADING, FETCH_SUCCESS, FETCH_FAILURE, SELECT_OPEN, SELECT_CLOSE, MRP_NAME_UPDATE, MRP_DATE_UPDATE, IVL_KEY_UPDATE, IVL_YEAR_UPDATE, STAR_NAME_UPDATE, FINAL_QUERY, SHOW_RESULT, ERROR } from \"./action_types\"; //  APOD  ////////////////////////////////////////////////////\n\nexport function getApod() {\n  return function (dispatch) {\n    dispatch(loading());\n    fetch(\"https://api.nasa.gov/planetary/apod?api_key=1bLpXwhcARlJOhP0k9rQ0PBxWtO7JJRflDIeg16p\").then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      var received = {\n        artist: data.copyright,\n        title: data.title,\n        date: data.date,\n        explanation: data.explanation,\n        link: data.url,\n        media_type: data.media_type\n      };\n      dispatch(fetchSuccess());\n      dispatch(showResult(received));\n    }).catch(function (error) {\n      dispatch(fetchFailure());\n      console.error(\"Error:\", error);\n    });\n  };\n} //  MRP  ////////////////////////////////////////////////////\n\nexport function onOpen() {\n  return function (dispatch) {\n    dispatch({\n      type: SELECT_OPEN,\n      payload: true\n    });\n  };\n}\nexport function onClose() {\n  return function (dispatch) {\n    dispatch({\n      type: SELECT_CLOSE,\n      payload: false\n    });\n  };\n}\nexport function mrpNameUpdate(name) {\n  return function (dispatch) {\n    dispatch({\n      type: MRP_NAME_UPDATE,\n      payload: name\n    });\n  };\n}\nexport function mrpDateUpdate(date) {\n  return function (dispatch) {\n    dispatch({\n      type: MRP_DATE_UPDATE,\n      payload: date\n    });\n  };\n}\nexport function getMrp() {\n  return function (dispatch, getState) {\n    var state = getState().mrpForm;\n    var sent = {\n      name: state.name,\n      date: state.date\n    };\n    var endpoint = \"https://api.nasa.gov/mars-photos/api/v1/rovers/\".concat(sent.name, \"/photos?earth_date=\").concat(sent.date, \"&api_key=1bLpXwhcARlJOhP0k9rQ0PBxWtO7JJRflDIeg16p\");\n    fetch(endpoint).then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      if (data.photos.length === 0) {\n        dispatch(onError());\n      } else {\n        dispatch(loading());\n        var received = {\n          name: data.photos.map(function (e) {\n            return e.rover.name;\n          }),\n          earth_date: data.photos.map(function (e) {\n            return e.earth_date;\n          }),\n          photos: data.photos\n        };\n        console.log(received);\n        dispatch(fetchSuccess());\n        dispatch(showResult(received));\n      }\n    }).catch(function (error) {\n      dispatch(fetchFailure());\n      console.error(\"Error:\", error);\n    });\n  };\n} //  IVL  ////////////////////////////////////////////////////\n\nexport function ivlKeyUpdate(keyword) {\n  return function (dispatch) {\n    dispatch({\n      type: IVL_KEY_UPDATE,\n      payload: keyword\n    });\n  };\n}\nexport function ivlYearUpdate(year) {\n  return function (dispatch) {\n    dispatch({\n      type: IVL_YEAR_UPDATE,\n      payload: year\n    });\n  };\n}\nexport function getIvl() {\n  return function (dispatch, getState) {\n    var state = getState().ivlForm;\n    var sent = {\n      keyword: state.keyword,\n      year: state.year\n    };\n    var endpoint = \"https://images-api.nasa.gov/search?q=\".concat(sent.keyword, \"%\").concat(sent.year);\n    fetch(endpoint).then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      if (data.collection.items.length === 0) {\n        dispatch(onError());\n      } else {\n        dispatch(loading());\n        var received = {\n          info: data.collection.items.map(function (i) {\n            return i;\n          })\n        };\n        console.log(received);\n        dispatch(fetchSuccess());\n        dispatch(showResult(received));\n      }\n    }).catch(function (error) {\n      dispatch(fetchFailure());\n      console.error(\"Error:\", error);\n    });\n  };\n} //  TECHPORT  ////////////////////////////////////////////////////\n\nexport function getTechport() {\n  return function (dispatch) {\n    fetch(\"https://api.nasa.gov/techport/api/projects?api_key=1bLpXwhcARlJOhP0k9rQ0PBxWtO7JJRflDIeg16p\").then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      var receivedIds = {\n        id: data.projects.projects.map(function (i) {\n          return i.id;\n        })\n      };\n      dispatch(techportFetch(receivedIds));\n    }).catch(function (error) {\n      console.error(\"Error:\", error);\n    });\n  };\n}\nexport function techportFetch(receivedIds) {\n  return function (dispatch) {\n    var idParams = receivedIds.id[Math.floor(Math.random() * receivedIds.id.length)];\n    fetch(\"https://api.nasa.gov/techport/api/projects/\".concat(idParams, \"?api_key=1bLpXwhcARlJOhP0k9rQ0PBxWtO7JJRflDIeg16p\")).then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      var image;\n\n      if (data.project.library === undefined) {\n        image = null;\n      } else if (data.project.library.libraryItem.constructor === Array) {\n        image = data.project.library.libraryItem[1].files.file.url;\n      } else {\n        image = data.project.library.libraryItem.files.file.url;\n      }\n\n      if (data.project.description === undefined || data.project.endDate === undefined) {\n        dispatch(techportFetch());\n      } else {\n        var received = {\n          id: data.project.id,\n          title: data.project.title,\n          endDate: data.project.endDate,\n          img_src: image,\n          description: data.project.description,\n          benefits: data.project.benefits\n        };\n        console.log(received);\n        dispatch(showResult(received));\n      }\n    }).catch(function (error) {\n      console.error(\"Error:\", error);\n    });\n  };\n} //  SPACEX  ////////////////////////////////////////////////////\n\nexport function getSpacex() {\n  return function (dispatch) {\n    dispatch(loading());\n    var flightNumber = Math.floor(Math.random() * 73 + 1);\n    console.log(flightNumber);\n    fetch(\"https://api.spacexdata.com/v3/launches/\".concat(flightNumber)).then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      var received = {\n        flight_number: data.flight_number,\n        mission_name: data.mission_name,\n        launch_year: data.launch_year,\n        rocket_name: data.rocket.rocket_name,\n        mission_patch: data.links.mission_patch,\n        article_link: data.links.article_link,\n        video_link: data.links.video_link,\n        wikipedia: data.links.wikipedia,\n        details: data.details\n      };\n      console.log(received);\n      dispatch(showResult(received));\n    }).catch(function (error) {\n      console.error(\"Error:\", error);\n    });\n  };\n} //  STARMAP  ////////////////////////////////////////////////////\n\nexport function starNameUpdate(starName) {\n  return function (dispatch) {\n    dispatch({\n      type: STAR_NAME_UPDATE,\n      payload: starName\n    });\n  };\n}\nexport function getFinalQuery() {\n  return function (dispatch, getState) {\n    var state = getState().starForm;\n    var star = \"?object=\" + state.starName;\n    var finalUrl = \"http://server7.sky-map.org/skywindow\".concat(star, \"&ra=5.59&de=-5.45&zoom=6&show_grid=1&show_constellation_lines=1&show_constellation_boundaries=1&show_const_names=0&show_galaxies=1&img_source=DSS2\");\n    dispatch(updateUrl(finalUrl));\n  };\n}\nexport function updateUrl(finalUrl) {\n  return function (dispatch) {\n    dispatch({\n      type: FINAL_QUERY,\n      payload: true,\n      finalUrl: finalUrl\n    });\n    console.log(finalUrl);\n  };\n} /////////////////////////////////////////////////////////////////\n\nexport function showResult(received) {\n  return function (dispatch) {\n    dispatch({\n      type: SHOW_RESULT,\n      payload: true,\n      receivedInfo: received\n    });\n  };\n}\nexport function submitted() {\n  return function (dispatch) {\n    dispatch({\n      type: SUBMITTED,\n      payload: true\n    });\n  };\n}\nexport function loading() {\n  return function (dispatch) {\n    dispatch({\n      type: LOADING,\n      payload: true\n    });\n  };\n}\nexport function fetchSuccess() {\n  return function (dispatch) {\n    dispatch({\n      type: FETCH_SUCCESS,\n      payload: true\n    });\n  };\n}\nexport function fetchFailure() {\n  return function (dispatch) {\n    dispatch({\n      type: FETCH_FAILURE,\n      payload: true\n    });\n  };\n}\nexport function onError() {\n  return function (dispatch) {\n    dispatch({\n      type: ERROR,\n      payload: true\n    });\n  };\n}","map":{"version":3,"sources":["/Users/macbookpro/Desktop/universa_localis/src/actions/formActions/actions.js"],"names":["SUBMITTED","LOADING","FETCH_SUCCESS","FETCH_FAILURE","SELECT_OPEN","SELECT_CLOSE","MRP_NAME_UPDATE","MRP_DATE_UPDATE","IVL_KEY_UPDATE","IVL_YEAR_UPDATE","STAR_NAME_UPDATE","FINAL_QUERY","SHOW_RESULT","ERROR","getApod","dispatch","loading","fetch","then","response","json","data","received","artist","copyright","title","date","explanation","link","url","media_type","fetchSuccess","showResult","catch","error","fetchFailure","console","onOpen","type","payload","onClose","mrpNameUpdate","name","mrpDateUpdate","getMrp","getState","state","mrpForm","sent","endpoint","photos","length","onError","map","e","rover","earth_date","log","ivlKeyUpdate","keyword","ivlYearUpdate","year","getIvl","ivlForm","collection","items","info","i","getTechport","receivedIds","id","projects","techportFetch","idParams","Math","floor","random","image","project","library","undefined","libraryItem","constructor","Array","files","file","description","endDate","img_src","benefits","getSpacex","flightNumber","flight_number","mission_name","launch_year","rocket_name","rocket","mission_patch","links","article_link","video_link","wikipedia","details","starNameUpdate","starName","getFinalQuery","starForm","star","finalUrl","updateUrl","receivedInfo","submitted"],"mappings":"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","sourcesContent":["import {\n  SUBMITTED,\n  LOADING,\n  FETCH_SUCCESS,\n  FETCH_FAILURE,\n  SELECT_OPEN,\n  SELECT_CLOSE,\n  MRP_NAME_UPDATE,\n  MRP_DATE_UPDATE,\n  IVL_KEY_UPDATE,\n  IVL_YEAR_UPDATE,\n  STAR_NAME_UPDATE,\n  FINAL_QUERY,\n  SHOW_RESULT,\n  ERROR\n} from \"./action_types\";\n\n//  APOD  ////////////////////////////////////////////////////\n\nexport function getApod() {\n  return function(dispatch) {\n    dispatch(loading());\n    fetch(\n      \"https://api.nasa.gov/planetary/apod?api_key=1bLpXwhcARlJOhP0k9rQ0PBxWtO7JJRflDIeg16p\"\n    )\n      .then(response => response.json())\n      .then(data => {\n        const received = {\n          artist: data.copyright,\n          title: data.title,\n          date: data.date,\n          explanation: data.explanation,\n          link: data.url,\n          media_type: data.media_type\n        };\n        dispatch(fetchSuccess());\n        dispatch(showResult(received));\n      })\n      .catch(error => {\n        dispatch(fetchFailure());\n        console.error(\"Error:\", error);\n      });\n  };\n}\n\n//  MRP  ////////////////////////////////////////////////////\n\nexport function onOpen() {\n  return function(dispatch) {\n    dispatch({\n      type: SELECT_OPEN,\n      payload: true\n    });\n  };\n}\nexport function onClose() {\n  return function(dispatch) {\n    dispatch({\n      type: SELECT_CLOSE,\n      payload: false\n    });\n  };\n}\n\nexport function mrpNameUpdate(name) {\n  return function(dispatch) {\n    dispatch({\n      type: MRP_NAME_UPDATE,\n      payload: name\n    });\n  };\n}\n\nexport function mrpDateUpdate(date) {\n  return function(dispatch) {\n    dispatch({\n      type: MRP_DATE_UPDATE,\n      payload: date\n    });\n  };\n}\n\nexport function getMrp() {\n  return function(dispatch, getState) {\n    const state = getState().mrpForm;\n    const sent = {\n      name: state.name,\n      date: state.date\n    };\n    const endpoint = `https://api.nasa.gov/mars-photos/api/v1/rovers/${\n      sent.name\n    }/photos?earth_date=${\n      sent.date\n    }&api_key=1bLpXwhcARlJOhP0k9rQ0PBxWtO7JJRflDIeg16p`;\n\n    fetch(endpoint)\n      .then(response => response.json())\n      .then(data => {\n        if (data.photos.length === 0) {\n          dispatch(onError());\n        } else {\n          dispatch(loading());\n          const received = {\n            name: data.photos.map(e => e.rover.name),\n            earth_date: data.photos.map(e => e.earth_date),\n            photos: data.photos\n          };\n          console.log(received);\n          dispatch(fetchSuccess());\n          dispatch(showResult(received));\n        }\n      })\n      .catch(error => {\n        dispatch(fetchFailure());\n        console.error(\"Error:\", error);\n      });\n  };\n}\n\n//  IVL  ////////////////////////////////////////////////////\n\nexport function ivlKeyUpdate(keyword) {\n  return function(dispatch) {\n    dispatch({\n      type: IVL_KEY_UPDATE,\n      payload: keyword\n    });\n  };\n}\n\nexport function ivlYearUpdate(year) {\n  return function(dispatch) {\n    dispatch({\n      type: IVL_YEAR_UPDATE,\n      payload: year\n    });\n  };\n}\n\nexport function getIvl() {\n  return function(dispatch, getState) {\n    const state = getState().ivlForm;\n    const sent = {\n      keyword: state.keyword,\n      year: state.year\n    };\n    const endpoint = `https://images-api.nasa.gov/search?q=${sent.keyword}%${\n      sent.year\n    }`;\n\n    fetch(endpoint)\n      .then(response => response.json())\n      .then(data => {\n        if (data.collection.items.length === 0) {\n          dispatch(onError());\n        } else {\n          dispatch(loading());\n          const received = {\n            info: data.collection.items.map(i => i)\n          };\n          console.log(received);\n          dispatch(fetchSuccess());\n          dispatch(showResult(received));\n        }\n      })\n      .catch(error => {\n        dispatch(fetchFailure());\n        console.error(\"Error:\", error);\n      });\n  };\n}\n\n//  TECHPORT  ////////////////////////////////////////////////////\n\nexport function getTechport() {\n  return function(dispatch) {\n    fetch(\n      \"https://api.nasa.gov/techport/api/projects?api_key=1bLpXwhcARlJOhP0k9rQ0PBxWtO7JJRflDIeg16p\"\n    )\n      .then(response => response.json())\n      .then(data => {\n        const receivedIds = {\n          id: data.projects.projects.map(i => i.id)\n        };\n        dispatch(techportFetch(receivedIds));\n      })\n      .catch(error => {\n        console.error(\"Error:\", error);\n      });\n  };\n}\n\nexport function techportFetch(receivedIds) {\n  return function(dispatch) {\n    const idParams =\n      receivedIds.id[Math.floor(Math.random() * receivedIds.id.length)];\n    fetch(\n      `https://api.nasa.gov/techport/api/projects/${idParams}?api_key=1bLpXwhcARlJOhP0k9rQ0PBxWtO7JJRflDIeg16p`\n    )\n      .then(response => response.json())\n      .then(data => {\n        let image;\n        if (data.project.library === undefined) {\n          image = null;\n        } else if (data.project.library.libraryItem.constructor === Array) {\n          image = data.project.library.libraryItem[1].files.file.url;\n        } else {\n          image = data.project.library.libraryItem.files.file.url;\n        }\n\n        if (\n          data.project.description === undefined ||\n          data.project.endDate === undefined\n        ) {\n          dispatch(techportFetch());\n        } else {\n          const received = {\n            id: data.project.id,\n            title: data.project.title,\n            endDate: data.project.endDate,\n            img_src: image,\n            description: data.project.description,\n            benefits: data.project.benefits\n          };\n          console.log(received);\n          dispatch(showResult(received));\n        }\n      })\n      .catch(error => {\n        console.error(\"Error:\", error);\n      });\n  };\n}\n\n//  SPACEX  ////////////////////////////////////////////////////\n\nexport function getSpacex() {\n  return function(dispatch) {\n    dispatch(loading());\n    const flightNumber = Math.floor(Math.random() * 73 + 1);\n    console.log(flightNumber);\n    fetch(`https://api.spacexdata.com/v3/launches/${flightNumber}`)\n      .then(response => response.json())\n      .then(data => {\n        const received = {\n          flight_number: data.flight_number,\n          mission_name: data.mission_name,\n          launch_year: data.launch_year,\n          rocket_name: data.rocket.rocket_name,\n          mission_patch: data.links.mission_patch,\n          article_link: data.links.article_link,\n          video_link: data.links.video_link,\n          wikipedia: data.links.wikipedia,\n          details: data.details\n        };\n        console.log(received);\n        dispatch(showResult(received));\n      })\n      .catch(error => {\n        console.error(\"Error:\", error);\n      });\n  };\n}\n\n//  STARMAP  ////////////////////////////////////////////////////\n\nexport function starNameUpdate(starName) {\n  return function(dispatch) {\n    dispatch({\n      type: STAR_NAME_UPDATE,\n      payload: starName\n    });\n  };\n}\n\nexport function getFinalQuery() {\n  return function(dispatch, getState) {\n    const state = getState().starForm;\n    const star = \"?object=\" + state.starName;\n\n    const finalUrl = `http://server7.sky-map.org/skywindow${star}&ra=5.59&de=-5.45&zoom=6&show_grid=1&show_constellation_lines=1&show_constellation_boundaries=1&show_const_names=0&show_galaxies=1&img_source=DSS2`;\n    dispatch(updateUrl(finalUrl));\n  };\n}\n\nexport function updateUrl(finalUrl) {\n  return function(dispatch) {\n    dispatch({\n      type: FINAL_QUERY,\n      payload: true,\n      finalUrl: finalUrl\n    });\n    console.log(finalUrl);\n  };\n}\n\n/////////////////////////////////////////////////////////////////\n\nexport function showResult(received) {\n  return function(dispatch) {\n    dispatch({\n      type: SHOW_RESULT,\n      payload: true,\n      receivedInfo: received\n    });\n  };\n}\n\nexport function submitted() {\n  return function(dispatch) {\n    dispatch({\n      type: SUBMITTED,\n      payload: true\n    });\n  };\n}\n\nexport function loading() {\n  return function(dispatch) {\n    dispatch({\n      type: LOADING,\n      payload: true\n    });\n  };\n}\n\nexport function fetchSuccess() {\n  return function(dispatch) {\n    dispatch({\n      type: FETCH_SUCCESS,\n      payload: true\n    });\n  };\n}\n\nexport function fetchFailure() {\n  return function(dispatch) {\n    dispatch({\n      type: FETCH_FAILURE,\n      payload: true\n    });\n  };\n}\n\nexport function onError() {\n  return function(dispatch) {\n    dispatch({\n      type: ERROR,\n      payload: true\n    });\n  };\n}\n"]},"metadata":{},"sourceType":"module"}